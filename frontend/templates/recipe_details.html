{% extends "base.html" %} {% block body %}
<div id="recipe-detail-container" class="container"></div>

<!-- Edit Comment Modal -->
<div id="editCommentModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeCommentModal()">&times;</span>
    <form
      id="editCommentForm"
      onsubmit="submitCommentEdit(event)"
      style="width: 50%; margin: auto"
    >
      {% csrf_token %}
      <input type="hidden" id="edit-comment-id" />
      <input type="hidden" id="edit-recipe-id" />
      <div class="form-outline form-white mb-4">
        <label class="form-label" for="edit-comment-title">Body</label>
        <input
          type="text"
          id="edit-comment-title"
          class="form-control form-control-lg"
        />
      </div>
      <div class="form-outline form-white mb-4">
        <label class="form-label" for="edit-comment-rating">Rating</label>
        <select class="form-control" id="edit-comment-rating" required>
          <option value="⭐">⭐</option>
          <option value="⭐⭐">⭐⭐</option>
          <option value="⭐⭐⭐">⭐⭐⭐</option>
          <option value="⭐⭐⭐⭐">⭐⭐⭐⭐</option>
          <option value="⭐⭐⭐⭐⭐">⭐⭐⭐⭐⭐</option>
        </select>
      </div>

      <button class="btn btn-primary btn-lg px-5 my-4" type="submit">
        Save
      </button>
    </form>
  </div>
</div>

<div id="comments-section" class="mt-5">
  <h2 class="text-center">All Comments</h2>
  <div id="comments-container" class="m-4 d-flex flex-wrap"></div>

  {% if user.is_authenticated %}

  <form
    id="comment-form"
    class="form-group"
    style="width: 50%; margin: auto"
    onsubmit="addComment(event)"
  >
    <div class="form-group">
      <label for="comment-content">Add a Comment</label>
      <textarea
        class="form-control"
        id="comment-content"
        rows="3"
        required
      ></textarea>
    </div>

    <div class="form-group">
      <label for="comment-rating">Rating</label>
      <select class="form-control" id="comment-rating" required>
        <option value="⭐">⭐</option>
        <option value="⭐⭐">⭐⭐</option>
        <option value="⭐⭐⭐">⭐⭐⭐</option>
        <option value="⭐⭐⭐⭐">⭐⭐⭐⭐</option>
        <option value="⭐⭐⭐⭐⭐">⭐⭐⭐⭐⭐</option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary my-4">Add Comment</button>
  </form>

  {% else %}

  <h3 class="text-center">
    Please Login to add a comment <a href="{% url "user_login" %}">login</a>
  </h3>
  {% endif %}
</div>
{% endblock %}
